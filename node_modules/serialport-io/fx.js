/* jshint ignore: start */
//jscs: disable

var firefox = require('node-firefox');

firefox.findDevices().then(firefox.forwardPorts).then(function(result) {
  result.forEach(function(device) {
    console.log(device);
    if (false && device.isFirefoxOS && device.id == 'YT9110QGYM' && 
        device.ports && device.ports.length > 0) {
      port = device.ports[0].port;
      firefox.connect(port).then(function(client) {
        firefox.installApp({
          appPath: '/Users/yshlin/Source/ble-explorer',
          client: client
        }).then(function(appId) {
          console.log('App was installed with appId = ', appId);
        }, function(error) {
          console.error('App could not be installed: ', error);
        });
      });
    }
  });
});
